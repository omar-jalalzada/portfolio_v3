var SC=SC||{},CoreDocs=CoreDocs||{},NO=!1,YES=!0;CoreDocs.loc=function(e,t){return t===undefined&&CoreDocs.error('"'+e+'" needs a comment to be picked up for loc.'),e=e.loc(),e=e.replace(/@@/g,"%@"),e},SC.String={fmt:function(){var e=this.gsub(/%@([0-9]+)/,function(e){return(arguments[parseInt(e[1],0)-1]||"").toString()}),t=[],n=-1,r=0,i=0;while((n=e.indexOf("%@",r))>=0){t.push(e.slice(r,n)),r=n+2;var s=arguments[i++];s&&s.toString&&(s=s.toString()),t.push(s)}return r<e.length&&t.push(e.slice(r,e.length)),t.length>1?t.join(""):t[0]},loc:function(){var e=String[String.currentLanguage()],t=e[this];return t||(t=String.English[this]||this),t.fmt.apply(t,arguments)}};for(var key in SC.String)String.prototype[key]=SC.String[key];Object.extend(String,{browserLanguage:(navigator.language||navigator.browserLanguage).split("-",1)[0],useAutodetectedLanguage:NO,preferredLanguage:null,currentLanguage:function(){var e=this.useAutodetectedLanguage?this.browserLanguage||this.preferredLanguage||"en":this.preferredLanguage||this.browserLanguage||"en";return this[e]||(e=this.normalizedLanguage(e)),e},normalizedLanguage:function(e){switch(e){case"fr":e="French";break;case"de":e="German";break;case"ja":case"jp":e="Japanese";break;case"en":e="English";break;case"es":e="Spanish";break;default:e="English"}return e},addStringsFor:function(e,t){return e=String.normalizedLanguage(e),String[e]||(String[e]={}),Object.extend(String[e],t||{}),this}}),String.English=String.English||{},String.French=String.French||{},String.German=String.German||{},String.Japanese=String.Japanese||{},String.Spanish=String.Spanish||{};